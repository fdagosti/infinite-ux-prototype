webpackJsonp([0,5],{1128:function(t,e,n){"use strict";var o=n(0),i=n(19),r=n(59),c=n(99),s=n(1139),a=n(1131),u=n(1130),f=n(1140),l=n(1138),p=n(1134),d=n(1132),h=n(1135),y=n(1136),g=n(1133),b=n(303),m=(n.n(b),n(81)),v=n(525),R=n(1137),w=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,c=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(r<3?i(c):r>3?i(e,n,c):i(e,n))||c);return r>3&&c&&Object.defineProperty(e,n,c),c},O=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},x=function(){function t(){}return t=w([n.i(o.NgModule)({imports:[i.CommonModule,r.b,c.HttpModule,v.a,b.BusyModule,m.c.forChild([{path:"",component:a.a},{path:"settings",component:l.a}])],declarations:[s.a,a.a,f.a,l.a,p.a,d.a,h.a,y.a,g.a,R.a],exports:[],providers:[u.a]}),O("design:paramtypes",[])],t)}();e.default=x},1130:function(t,e,n){"use strict";var o=n(0),i=n(99),r=n(58);n.n(r);n.d(e,"a",function(){return a});var c=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,c=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(r<3?i(c):r>3?i(e,n,c):i(e,n))||c);return r>3&&c&&Object.defineProperty(e,n,c),c},s=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},a=function(){function t(t){this.http=t,this.LOGINURL="https://api.twitter.com/oauth2/token",this.TWITTERURL="https://api.twitter.com/1.1/",this.PROXY="https://cisco-itk-proxy.herokuapp.com/",this.LOCAL_STORAGE="InfiniteUX-twitter-token-v1",this._isLoggedIn=function(){var t=this.getToken();return!!t&&t.exp>Date.now()/1e3},this.getAccessToken=function(){return this._isLoggedIn()?r.Observable.of(this.getToken().access_token):this.login()}}return t.prototype.login=function(){var t=this;return this.http.post("/api/login_twitter",null).map(function(e){return t.saveToken(e).access_token}).catch(this.handleError)},t.prototype.getToken=function(){var t=window.localStorage[this.LOCAL_STORAGE];if(t)return JSON.parse(t)},t.prototype.saveToken=function(t){var e=t.json();return e.exp=Date.now()/1e3+e.expires_in,window.localStorage[this.LOCAL_STORAGE]=JSON.stringify(e),e||{}},t.prototype.handleError=function(t){var e;if(t instanceof i.Response){var n=t.json()||"",o=n.error||JSON.stringify(n);e=t.status+" - "+(t.statusText||"")+" "+o}else e=t.message?t.message:t.toString();return console.error(e),r.Observable.throw(e)},t.prototype.getHttpCall=function(t,e){var n=this;return this.getHeadersWithAuth().map(function(e){return new i.RequestOptions({headers:e,search:t})}).switchMap(function(t){return n.http.get(n.PROXY+n.TWITTERURL+e,t)}).map(function(t){return t.json()}).catch(this.handleError)},t.prototype.getHeadersWithAuth=function(){return this.getAccessToken().map(function(t){return new i.Headers({Authorization:"Bearer "+t})})},t.prototype.getContent=function(t,e){return this.search(t+" filter:images")},t.prototype.fromTwitterToRowComp=function(t){var e=t.statuses.filter(function(t){return t.entities.media}).map(function(t){var e=new Array(6).fill(1).map(function(){return{url:t.entities.media[0].media_url}});return{title:"",media:e,synopsis:{shortSynopsis:t.text},_links:{}}});return{content:e}},t.prototype.search=function(t){var e=new i.URLSearchParams;return e.set("q",t),e.set("result_type","recent"),this.getHttpCall(e,"search/tweets.json").map(this.fromTwitterToRowComp)},t=c([n.i(o.Injectable)(),s("design:paramtypes",["function"==typeof(e="undefined"!=typeof i.Http&&i.Http)&&e||Object])],t);var e}()},1131:function(t,e,n){"use strict";var o=n(0);n.d(e,"a",function(){return c});var i=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,c=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(r<3?i(c):r>3?i(e,n,c):i(e,n))||c);return r>3&&c&&Object.defineProperty(e,n,c),c},r=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},c=function(){function t(){this.catid={name:"My test",id:"urn:spvss:ih:tme:term:RECOMMENDED~TERM:urn:spvss:ih:tme:term:RECOMMENDED"}}return t.prototype.ngOnInit=function(){},t=i([n.i(o.Component)({selector:"iux-dago-playground",template:n(1164),styles:[n(1149)]}),r("design:paramtypes",[])],t)}()},1132:function(t,e,n){"use strict";var o=n(0);n.d(e,"a",function(){return c});var i=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,c=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(r<3?i(c):r>3?i(e,n,c):i(e,n))||c);return r>3&&c&&Object.defineProperty(e,n,c),c},r=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},c=function(){function t(){}return t.prototype.transform=function(t,e){var n=[];for(var o in t)n.push(o);return n},t=i([n.i(o.Pipe)({name:"keys"}),r("design:paramtypes",[])],t)}()},1133:function(t,e,n){"use strict";var o=n(0);n.d(e,"a",function(){return c});var i=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,c=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(r<3?i(c):r>3?i(e,n,c):i(e,n))||c);return r>3&&c&&Object.defineProperty(e,n,c),c},r=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},c=function(){function t(){}return t.prototype.ngOnInit=function(){},t=i([n.i(o.Component)({selector:"iux-settings-adsuite",template:n(1165),styles:[n(1150)]}),r("design:paramtypes",[])],t)}()},1134:function(t,e,n){"use strict";var o=n(0);n.d(e,"a",function(){return a});var i=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,c=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(r<3?i(c):r>3?i(e,n,c):i(e,n))||c);return r>3&&c&&Object.defineProperty(e,n,c),c},r=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},c={uiLanguage:"Interface Language",audioLanguage:"Audio Language",subtitlesLanguage:"Subtitles Language",presentSubtitles:"Display Subtitles",displayName:"Profile Name",parentalRatingThreshold:"Parental Rating Level",favoriteChannels:"Favorite Channels"},s={eng:"English",false:"False",Home:"Home"},a=function(){function t(){}return t.prototype.transform=function(t,e){return e?s[t]?s[t]:t:c[t]?c[t]:t},t=i([n.i(o.Pipe)({name:"ctapSettings"}),r("design:paramtypes",[])],t)}()},1135:function(t,e,n){"use strict";var o=n(0),i=n(82);n.d(e,"a",function(){return s});var r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,c=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(r<3?i(c):r>3?i(e,n,c):i(e,n))||c);return r>3&&c&&Object.defineProperty(e,n,c),c},c=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},s=function(){function t(t){this.ctap=t}return t.prototype.ngOnInit=function(){var t=this;this.busy=this.ctap.getSettings().subscribe(function(e){return t.data=e})},t=r([n.i(o.Component)({selector:"iux-settings-ctap",template:n(1166),styles:[n(1151)]}),c("design:paramtypes",["function"==typeof(e="undefined"!=typeof i.a&&i.a)&&e||Object])],t);var e}()},1136:function(t,e,n){"use strict";var o=n(0),i=n(304);n.d(e,"a",function(){return s});var r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,c=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(r<3?i(c):r>3?i(e,n,c):i(e,n))||c);return r>3&&c&&Object.defineProperty(e,n,c),c},c=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},s=function(){function t(t){this.debug=t,this.proxyEnabled=t.isProxyEnabled()}return t.prototype.enableProxy=function(t){console.log("update service ",t),this.proxyEnabled=this.debug.enableProxy(t)},t.prototype.ngOnInit=function(){},t=r([n.i(o.Component)({selector:"iux-settings-debug",template:n(1167),styles:[n(1152)]}),c("design:paramtypes",["function"==typeof(e="undefined"!=typeof i.a&&i.a)&&e||Object])],t);var e}()},1137:function(t,e,n){"use strict";var o=n(0),i=n(81),r=n(184);n.d(e,"a",function(){return a});var c=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,c=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(r<3?i(c):r>3?i(e,n,c):i(e,n))||c);return r>3&&c&&Object.defineProperty(e,n,c),c},s=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},a=function(){function t(t,e){this.route=t,this.twitch=e,this.twitchAccountConnected=!1,this.loginInProgress=null}return t.prototype.ngOnInit=function(){this.readQueryParameters(),this.updateConnectionStatus()},t.prototype.readQueryParameters=function(){var t=this;this.route.queryParams.subscribe(function(e){t.error=e.error,t.errorDescription=e.error_description,t.state=e.state,t.scope=e.scope,e.code&&t.login(e.code)},function(t){return console.log("error",t)},function(){return console.log("complete")})},t.prototype.updateConnectionStatus=function(){this.twitchAccountConnected=this.twitch.isTwitchConnected()},t.prototype.login=function(t){var e=this;this.loginInProgress=this.twitch.login(t).subscribe(function(){e.updateConnectionStatus()},function(t){return e.loginInProgress=null},function(){return e.loginInProgress=null})},t.prototype.disconnectAccount=function(){this.twitch.disconnectAccount(),this.updateConnectionStatus()},t.prototype.connectAccount=function(){this.twitch.connectAccount()},t=c([n.i(o.Component)({selector:"iux-settings-twitch",template:n(1168),styles:[n(1153)]}),s("design:paramtypes",["function"==typeof(e="undefined"!=typeof i.b&&i.b)&&e||Object,"function"==typeof(a="undefined"!=typeof r.a&&r.a)&&a||Object])],t);var e,a}()},1138:function(t,e,n){"use strict";var o=n(0);n.d(e,"a",function(){return c});var i=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,c=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(r<3?i(c):r>3?i(e,n,c):i(e,n))||c);return r>3&&c&&Object.defineProperty(e,n,c),c},r=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},c=function(){function t(){}return t.prototype.ngOnInit=function(){},t=i([n.i(o.Component)({selector:"iux-settings",template:n(1169),styles:[n(1154)]}),r("design:paramtypes",[])],t)}()},1139:function(t,e,n){"use strict";var o=n(0);n.d(e,"a",function(){return c});var i=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,c=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(r<3?i(c):r>3?i(e,n,c):i(e,n))||c);return r>3&&c&&Object.defineProperty(e,n,c),c},r=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},c=function(){function t(){this.nextId=0}return t.prototype.ngOnInit=function(){this.logIt("onInit")},t.prototype.ngOnDestroy=function(){this.logIt("onDestroy")},t.prototype.logIt=function(t){console.log("Spy #"+this.nextId++ +" "+t)},t=i([n.i(o.Directive)({selector:"[iuxSpy]"}),r("design:paramtypes",[])],t)}()},1140:function(t,e,n){"use strict";var o=n(0),i=n(1130),r=n(58);n.n(r);n.d(e,"a",function(){return a});var c=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,c=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(r<3?i(c):r>3?i(e,n,c):i(e,n))||c);return r>3&&c&&Object.defineProperty(e,n,c),c},s=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},a=function(){function t(t){var e=this;this.twitter=t,this.toutou=new r.Subject,this.queries=[0],this.tweet$=r.Observable.empty(),this.toutou.do(function(t){return console.log("value",t)}).subscribe(function(t){return e.tweet$=e.twitter.getContent(t,0)})}return t.prototype.ngOnInit=function(){},t.prototype.search=function(t){console.log("query")},t=c([n.i(o.Component)({selector:"iux-twitter-tweets",template:n(1170),styles:[n(1155)]}),s("design:paramtypes",["function"==typeof(e="undefined"!=typeof i.a&&i.a)&&e||Object])],t);var e}()},1149:function(t,e){t.exports=":host{\n  display:block;\n  margin-top:70px;\n}\n\np{\n  font-size:1rem;\n}\n\nh2{\n  font-size:2rem;\n}\n"},1150:function(t,e){t.exports="div,label,li,p{\n  font-size:1rem;\n\n}\n"},1151:function(t,e){t.exports=":host{\n  display:block;\n}\n\np{\n  font-size:1rem;\n}\n"},1152:function(t,e){t.exports="label,li,p{\n  font-size:1rem;\n}\n"},1153:function(t,e){t.exports="div,label,li,p{\n  font-size:1rem;\n\n}\n"},1154:function(t,e){t.exports=":host{\n  margin-top:70px;\n  display:block;\n}\n"},1155:function(t,e){t.exports="p{\n  font-size:1rem;\n}\n"},1164:function(t,e){t.exports="  <h2>Lolomo</h2>\n  <p>The lolomo is having overflow visible to show the newt previous pages. Let's see an exagerated version of it</p>\n  <h1>Under construction</h1>\n  <br>\n  <br>\n  <br>\n  <br>\n  <br>\n  <br>\n  <br>\n  <br>\n  <br>\n  <br>\n  <br>\n  <br>\n\n\n  <br>\n  <h2>Twitter</h2>\n\n  <iux-twitter-tweets></iux-twitter-tweets>\n"},1165:function(t,e){t.exports='<iux-settings-section title="AdSuite" >\n  <div class="col-sm-8">\n    <div role="alert" class="alert alert-warning">To interact with the AdSuite service, you need:\n      <ul>\n        <li>to be on the Cisco Intranet</li>\n        <li>to use http instead of https on your browser (just remove the s in http in the app\'s address) </li>\n      </ul>\n    </div>\n    <div class="checkbox">\n      <label>\n        <input type="checkbox"> Enable AdSuite\n      </label>\n    </div>\n    <button class="btn btn-danger" >Reset AdSuite settings</button>\n  </div>\n\n</iux-settings-section>\n'},1166:function(t,e){t.exports='<iux-settings-section title="IVP Profile" >\n\n  <div class="col-sm-4">\n    <div [ngBusy]="{busy:busy,backdrop:false}"></div>\n    <p *ngFor="let key of data | keys">\n      {{key | ctapSettings}}:\n    </p>\n  </div>\n  <div style="text-align: right" class="col-sm-4">\n    <p *ngFor="let key of data | keys">\n      {{data[key] | ctapSettings:"value"}}\n    </p>\n\n  </div>\n</iux-settings-section>\n'},1167:function(t,e){t.exports='<iux-settings-section title="Debugging" >\n  <div class="col-sm-8">\n    <div class="form-group">\n      <div class="checkbox">\n        <label>\n          <input type="checkbox" #proxy [ngModel]="proxyEnabled" (ngModelChange)="enableProxy($event)" > Enable Proxy to IVP backend\n        </label>\n      </div>\n      <p class="help-block">Use a proxy to talk to CTAP as sometimes, the backend is removing its CORS support</p>\n    </div>\n\n\n  </div>\n\n</iux-settings-section>\n'},1168:function(t,e){t.exports='<iux-settings-section title="Twitch" >\n  <div class="col-sm-8">\n    <div [ngBusy]="{busy:loginInProgress,backdrop:false}"></div>\n    <div *ngIf="error" class="alert alert-danger" role="alert">\n      <strong>{{error}}</strong><br>\n      {{errorDescription}}\n    </div>\n\n    <div *ngIf="twitchAccountConnected" class="alert alert-success" role="alert">\n      your Twitch Account is now connected\n    </div>\n\n\n    <button *ngIf="!twitchAccountConnected && !loginInProgress" class="btn btn-primary" (click)="connectAccount()">Connect your Twitch Account</button>\n    <button *ngIf="twitchAccountConnected" class="btn btn-danger" (click)="disconnectAccount()">Remove your twitch Connection</button>\n\n\n  </div>\n\n</iux-settings-section>\n'},1169:function(t,e){t.exports='<iux-navbar></iux-navbar>\n\n<div class="container">\n  <h1>Settings</h1>\n\n  <iux-settings-ctap></iux-settings-ctap>\n  <iux-settings-debug></iux-settings-debug>\n  <iux-settings-twitch></iux-settings-twitch>\n</div>\n\n'},1170:function(t,e){t.exports='<form class="form-group" (submit)="queries[0]=searchQuery.value">\n  <p >put any search term to display it on our horizontal list</p>\n  <input id="twitter" value="puppies" type="text" #searchQuery content="puppies">\n  <button>SEARCH</button>\n</form>\n<div [ngBusy]="busy"></div>\n'}});
//# sourceMappingURL=0.1834e730f4a8a70d8586.bundle.map